KISSY.add("gallery/kcharts/1.0/raphael/index",function(g,A,f){var M=/[, ]+/,k=document,G=window,j=function(){if(j.is(arguments[0],"array")){var N=arguments[0],O=I.create[l](j,N.splice(0,3+j.is(N[0],"number"))),R=O.set();for(var Q=0,S=N[B];Q<S;Q++){var P=N[Q]||{};P.type in {circle:1,rect:1,path:1,ellipse:1,text:1,image:1}&&R.push(O[P.type]().attr(P))}return R}return I.create[l](j,arguments)},b={},t={"clip-rect":"0 0 10e9 10e9",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},w={"clip-rect":"csv",cx:"number",cy:"number",fill:"colour","fill-opacity":"number","font-size":"number",height:"number",opacity:"number",path:"path",r:"number",rotation:"csv",rx:"number",ry:"number",scale:"csv",stroke:"colour","stroke-opacity":"number","stroke-width":"number",translation:"csv",width:"number",x:"number",y:"number"},x=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup"],p="prototype",l="apply",B="length",s="parseFloat",r="parseInt";j.version="1.0";j.type=(window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML");j.svg=!(j.vml=j.type=="VML");j.idGenerator=0;j.fn={};j.availableAttrs=t;j.is=function(N,i){i=(i+"").toLowerCase();if((i=="object"||i=="undefined")&&typeof N==i){return true}if(N==null&&i=="null"){return true}return Object[p].toString.call(N).replace(/^\[object\s+|\]$/gi,"").toLowerCase()==i};j.setWindow=function(i){G=i;k=G.document};j.hsb2rgb=L(function(V,T,Z){if(j.is(V,"object")&&"h" in V&&"s" in V&&"b" in V){Z=V.b;T=V.s;V=V.h}var Q,R,aa;if(Z==0){return{r:0,g:0,b:0,hex:"#000"}}if(V>1||T>1||Z>1){V/=255;T/=255;Z/=255}var S=Math.floor(V*6),W=(V*6)-S,P=Z*(1-T),O=Z*(1-(T*W)),ab=Z*(1-(T*(1-W)));Q=[Z,O,P,P,ab,Z,Z][S];R=[ab,Z,Z,O,P,P,ab][S];aa=[P,P,ab,Z,Z,O,P][S];Q*=255;R*=255;aa*=255;var X={r:Q,g:R,b:aa},N=(~~Q).toString(16),U=(~~R).toString(16),Y=(~~aa).toString(16);if(N[B]==1){N="0"+N}if(U[B]==1){U="0"+U}if(Y[B]==1){Y="0"+Y}X.hex="#"+N+U+Y;return X},j);j.rgb2hsb=L(function(i,N,T){if(j.is(i,"object")&&"r" in i&&"g" in i&&"b" in i){T=i.b;N=i.g;i=i.r}if(j.is(i,"string")){var V=j.getRGB(i);i=V.r;N=V.g;T=V.b}if(i>1||N>1||T>1){i/=255;N/=255;T/=255}var S=Math.max(i,N,T),O=Math.min(i,N,T),Q,P,R=S;if(O==S){return{h:0,s:0,b:S}}else{var U=(S-O);P=U/S;if(i==S){Q=(N-T)/U}else{if(N==S){Q=2+((T-i)/U)}else{Q=4+((i-N)/U)}}Q/=6;if(Q<0){Q+=1}if(Q>1){Q-=1}}return{h:Q,s:P,b:R}},j);j._path2string=function(){var P="",S;for(var O=0,Q=this[B];O<Q;O++){for(var N=0,R=this[O][B];N<R;N++){P+=this[O][N];N&&N!=R-1&&(P+=",")}O!=Q-1&&(P+="\n")}return P.replace(/,(?=-)/g,"")};function L(P,N,i){function O(){var Q=Array[p].splice.call(arguments,0,arguments[B]),R=Q.join("\u25ba");O.cache=O.cache||{};O.count=O.count||[];if(R in O.cache){return i?i(O.cache[R]):O.cache[R]}if(O.count[B]>1000){delete O.cache[O.count.unshift()]}O.count.push(R);O.cache[R]=P[l](N,Q);return i?i(O.cache[R]):O.cache[R]}return O}j.getRGB=L(function(i){var X={none:"none",aliceblue:"#f0f8ff",amethyst:"#96c",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},S;i=X[(i+"").toLowerCase()]||i;if(!i){return{r:-1,g:-1,b:-1,hex:"none",error:1}}if(i=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}var O,P,V,T=(i+"").match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i);if(T){if(T[2]){V=G[r](T[2].substring(5),16);P=G[r](T[2].substring(3,5),16);O=G[r](T[2].substring(1,3),16)}if(T[3]){V=G[r](T[3].substring(3)+T[3].substring(3),16);P=G[r](T[3].substring(2,3)+T[3].substring(2,3),16);O=G[r](T[3].substring(1,2)+T[3].substring(1,2),16)}if(T[4]){T=T[4].split(/\s*,\s*/);O=G[s](T[0]);P=G[s](T[1]);V=G[s](T[2])}if(T[5]){T=T[5].split(/\s*,\s*/);O=G[s](T[0])*2.55;P=G[s](T[1])*2.55;V=G[s](T[2])*2.55}if(T[6]){T=T[6].split(/\s*,\s*/);O=G[s](T[0]);P=G[s](T[1]);V=G[s](T[2]);return j.hsb2rgb(O,P,V)}if(T[7]){T=T[7].split(/\s*,\s*/);O=G[s](T[0])*2.55;P=G[s](T[1])*2.55;V=G[s](T[2])*2.55;return j.hsb2rgb(O,P,V)}T={r:O,g:P,b:V};var N=(~~O).toString(16),R=(~~P).toString(16),U=(~~V).toString(16),W=/^(?=\d$)/,Q="replace";N=N[Q](W,"0");R=R[Q](W,"0");U=U[Q](W,"0");T.hex="#"+N+R+U;S=T}else{S={r:-1,g:-1,b:-1,hex:"none",error:1}}return S},j);j.getColor=function(N){var O=this.getColor.start=this.getColor.start||{h:0,s:1,b:N||0.75},i=this.hsb2rgb(O.h,O.s,O.b);O.h+=0.075;if(O.h>1){O.h=0;O.s-=0.2;if(O.s<=0){this.getColor.start={h:0,s:1,b:O.b}}}return i.hex};j.getColor.reset=function(){delete this.start};j.parsePathString=L(function(i){if(!i){return null}var O={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},N=[];if(j.is(i,"array")&&j.is(i[0],"array")){N=j.pathClone(i)}if(!N[B]){(i+"").replace(/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(Q,P,T){var S=[],R=P.toLowerCase();T.replace(/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(V,U){U&&S.push(+U)});while(S[B]>=O[R]){N.push([P].concat(S.splice(0,O[R])));if(!O[R]){break}}})}N.toString=j._path2string;return N});var D=L(function(W){if(!W){return{x:0,y:0,width:0,height:0}}W=H(W);var T=0,S=0,P=[],O=[];for(var Q=0,V=W[B];Q<V;Q++){if(W[Q][0]=="M"){T=W[Q][1];S=W[Q][2];P.push(T);O.push(S)}else{var R=F(T,S,W[Q][1],W[Q][2],W[Q][3],W[Q][4],W[Q][5],W[Q][6]);P=P.concat(R.min.x,R.max.x);O=O.concat(R.min.y,R.max.y)}}var N=Math.min[l](0,P)||0,U=Math.min[l](0,O)||0;return{x:N,y:U,width:Math.max[l](0,P)-N,height:Math.max[l](0,O)-U}}),v=function(S){var P=[];if(!j.is(S,"array")||!j.is(S&&S[0],"array")){S=j.parsePathString(S)}for(var O=0,Q=S[B];O<Q;O++){P[O]=[];for(var N=0,R=S[O][B];N<R;N++){P[O][N]=S[O][N]}}P.toString=j._path2string;return P},e=L(function(Q){if(!j.is(Q,"array")||!j.is(Q&&Q[0],"array")){Q=j.parsePathString(Q)}var W=[],Y=0,X=0,ab=0,aa=0,P=0;if(Q[0][0]=="M"){Y=Q[0][1];X=Q[0][2];ab=Y;aa=X;P++;W.push(["M",Y,X])}for(var T=P,ac=Q[B];T<ac;T++){var N=W[T]=[],Z=Q[T];if(Z[0]!=Z[0].toLowerCase()){N[0]=Z[0].toLowerCase();switch(N[0]){case"a":N[1]=Z[1];N[2]=Z[2];N[3]=Z[3];N[4]=Z[4];N[5]=Z[5];N[6]=+(Z[6]-Y).toFixed(3);N[7]=+(Z[7]-X).toFixed(3);break;case"v":N[1]=+(Z[1]-X).toFixed(3);break;case"m":ab=Z[1];aa=Z[2];default:for(var S=1,U=Z[B];S<U;S++){N[S]=+(Z[S]-((S%2)?Y:X)).toFixed(3)}}}else{N=W[T]=[];if(Z[0]=="m"){ab=Z[1]+Y;aa=Z[2]+X}for(var R=0,O=Z[B];R<O;R++){W[T][R]=Z[R]}}var V=W[T][B];switch(W[T][0]){case"z":Y=ab;X=aa;break;case"h":Y+=+W[T][V-1];break;case"v":X+=+W[T][V-1];break;default:Y+=+W[T][V-2];X+=+W[T][V-1]}}W.toString=j._path2string;return W},0,v),y=L(function(Q){if(!j.is(Q,"array")||!j.is(Q&&Q[0],"array")){Q=j.parsePathString(Q)}var V=[],X=0,W=0,aa=0,Z=0,P=0;if(Q[0][0]=="M"){X=+Q[0][1];W=+Q[0][2];aa=X;Z=W;P++;V[0]=["M",X,W]}for(var T=P,ab=Q[B];T<ab;T++){var N=V[T]=[],Y=Q[T];if(Y[0]!=(Y[0]+"").toUpperCase()){N[0]=(Y[0]+"").toUpperCase();switch(N[0]){case"A":N[1]=Y[1];N[2]=Y[2];N[3]=Y[3];N[4]=Y[4];N[5]=Y[5];N[6]=+(Y[6]+X);N[7]=+(Y[7]+W);break;case"V":N[1]=+Y[1]+W;break;case"H":N[1]=+Y[1]+X;break;case"M":aa=+Y[1]+X;Z=+Y[2]+W;default:for(var S=1,U=Y[B];S<U;S++){N[S]=+Y[S]+((S%2)?X:W)}}}else{for(var R=0,O=Y[B];R<O;R++){V[T][R]=Y[R]}}switch(N[0]){case"Z":X=aa;W=Z;break;case"H":X=N[1];break;case"V":W=N[1];break;default:X=V[T][V[T][B]-2];W=V[T][V[T][B]-1]}}V.toString=j._path2string;return V},null,v),h=function(N,P,i,O){return[N,P,i,O,i,O]},z=function(N,P,S,Q,i,O){var R=1/3,T=2/3;return[R*N+T*S,R*P+T*Q,R*i+T*S,R*O+T*Q,i,O]},u=function(ab,aG,ak,ai,ac,W,R,aa,aF,ad){var Q=Math.PI,ah=Q*120/180,N=Q/180*(+ac||0),ao=[],al,aC=L(function(aH,aK,i){var aJ=aH*Math.cos(i)-aK*Math.sin(i),aI=aH*Math.sin(i)+aK*Math.cos(i);return{x:aJ,y:aI}});if(!ad){al=aC(ab,aG,-N);ab=al.x;aG=al.y;al=aC(aa,aF,-N);aa=al.x;aF=al.y;var O=Math.cos(Q/180*ac),Y=Math.sin(Q/180*ac),aq=(ab-aa)/2,ap=(aG-aF)/2;ak=Math.max(ak,Math.abs(aq));ai=Math.max(ai,Math.abs(ap));var P=ak*ak,au=ai*ai,aw=(W==R?-1:1)*Math.sqrt(Math.abs((P*au-P*ap*ap-au*aq*aq)/(P*ap*ap+au*aq*aq))),af=aw*ak*ap/ai+(ab+aa)/2,ae=aw*-ai*aq/ak+(aG+aF)/2,V=Math.asin((aG-ae)/ai),U=Math.asin((aF-ae)/ai);V=ab<af?Q-V:V;U=aa<af?Q-U:U;V<0&&(V=Q*2+V);U<0&&(U=Q*2+U);if(R&&V>U){V=V-Q*2}if(!R&&U>V){U=U-Q*2}}else{V=ad[0];U=ad[1];af=ad[2];ae=ad[3]}var Z=U-V;if(Math.abs(Z)>ah){var ag=U,aj=aa,X=aF;U=V+ah*(R&&U>V?1:-1);aa=af+ak*Math.cos(U);aF=ae+ai*Math.sin(U);ao=u(aa,aF,ak,ai,ac,0,R,aj,X,[U,ag,af,ae])}Z=U-V;var T=Math.cos(V),aE=Math.sin(V),S=Math.cos(U),aD=Math.sin(U),ar=Math.tan(Z/4),av=4/3*ak*ar,at=4/3*ai*ar,aB=[ab,aG],aA=[ab+av*aE,aG-at*T],az=[aa+av*aD,aF-at*S],ax=[aa,aF];aA[0]=2*aB[0]-aA[0];aA[1]=2*aB[1]-aA[1];if(ad){return[aA,az,ax].concat(ao)}else{ao=[aA,az,ax].concat(ao).join(",").split(",");var am=[];for(var ay=0,an=ao[B];ay<an;ay++){am[ay]=ay%2?aC(ao[ay-1],ao[ay],N).y:aC(ao[ay],ao[ay+1],N).x}return am}},C=L(function(N,i,ae,ac,R,Q,T,S,Y){var W=Math.pow(1-Y,3)*N+Math.pow(1-Y,2)*3*Y*ae+(1-Y)*3*Y*Y*R+Math.pow(Y,3)*T,U=Math.pow(1-Y,3)*i+Math.pow(1-Y,2)*3*Y*ac+(1-Y)*3*Y*Y*Q+Math.pow(Y,3)*S,aa=N+2*Y*(ae-N)+Y*Y*(R-2*ae+N),Z=i+2*Y*(ac-i)+Y*Y*(Q-2*ac+i),ad=ae+2*Y*(R-ae)+Y*Y*(T-2*R+ae),ab=ac+2*Y*(Q-ac)+Y*Y*(S-2*Q+ac),X=(1-Y)*N+Y*ae,V=(1-Y)*i+Y*ac,P=(1-Y)*R+Y*T,O=(1-Y)*Q+Y*S;return{x:W,y:U,m:{x:aa,y:Z},n:{x:ad,y:ab},start:{x:X,y:V},end:{x:P,y:O}}}),F=L(function(N,i,P,O,ac,ab,Y,V){var aa=(ac-2*P+N)-(Y-2*ac+P),X=2*(P-N)-2*(ac-P),U=N-P,S=(-X+Math.sqrt(X*X-4*aa*U))/2/aa,Q=(-X-Math.sqrt(X*X-4*aa*U))/2/aa,W=[i,V],Z=[N,Y],T=C(N,i,P,O,ac,ab,Y,V,S>0&&S<1?S:0),R=C(N,i,P,O,ac,ab,Y,V,Q>0&&Q<1?Q:0);Z=Z.concat(T.x,R.x);W=W.concat(T.y,R.y);aa=(ab-2*O+i)-(V-2*ab+O);X=2*(O-i)-2*(ab-O);U=i-O;S=(-X+Math.sqrt(X*X-4*aa*U))/2/aa;Q=(-X-Math.sqrt(X*X-4*aa*U))/2/aa;T=C(N,i,P,O,ac,ab,Y,V,S>0&&S<1?S:0);R=C(N,i,P,O,ac,ab,Y,V,Q>0&&Q<1?Q:0);Z=Z.concat(T.x,R.x);W=W.concat(T.y,R.y);return{min:{x:Math.min[l](Math,Z),y:Math.min[l](Math,W)},max:{x:Math.max[l](Math,Z),y:Math.max[l](Math,W)}}}),H=L(function(ab,W){var Q=y(ab),X=W&&y(W),Y={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},N={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},S=function(ac,ad){var i,ae;if(!ac){return["C",ad.x,ad.y,ad.x,ad.y,ad.x,ad.y]}!(ac[0] in {T:1,Q:1})&&(ad.qx=ad.qy=null);switch(ac[0]){case"M":ad.X=ac[1];ad.Y=ac[2];break;case"A":ac=["C"].concat(u[l](0,[ad.x,ad.y].concat(ac.slice(1))));break;case"S":i=ad.x+(ad.x-(ad.bx||ad.x));ae=ad.y+(ad.y-(ad.by||ad.y));ac=["C",i,ae].concat(ac.slice(1));break;case"T":ad.qx=ad.x+(ad.x-(ad.qx||ad.x));ad.qy=ad.y+(ad.y-(ad.qy||ad.y));ac=["C"].concat(z(ad.x,ad.y,ad.qx,ad.qy,ac[1],ac[2]));break;case"Q":ad.qx=ac[1];ad.qy=ac[2];ac=["C"].concat(z(ad.x,ad.y,ac[1],ac[2],ac[3],ac[4]));break;case"L":ac=["C"].concat(h(ad.x,ad.y,ac[1],ac[2]));break;case"H":ac=["C"].concat(h(ad.x,ad.y,ac[1],ad.y));break;case"V":ac=["C"].concat(h(ad.x,ad.y,ad.x,ac[1]));break;case"Z":ac=["C"].concat(h(ad.x,ad.y,ad.X,ad.Y));break}return ac},O=function(ac,ad){if(ac[ad][B]>7){ac[ad].shift();var ae=ac[ad];while(ae[B]){ac.splice(ad++,0,["C"].concat(ae.splice(0,6)))}ac.splice(ad,1);Z=Math.max(Q[B],X&&X[B]||0)}},P=function(ag,af,ad,ac,ae){if(ag&&af&&ag[ae][0]=="M"&&af[ae][0]!="M"){af.splice(ae,0,["M",ac.x,ac.y]);ad.bx=0;ad.by=0;ad.x=ag[ae][1];ad.y=ag[ae][2];Z=Math.max(Q[B],X&&X[B]||0)}};for(var U=0,Z=Math.max(Q[B],X&&X[B]||0);U<Z;U++){Q[U]=S(Q[U],Y);O(Q,U);X&&(X[U]=S(X[U],N));X&&O(X,U);P(Q,X,Y,N,U);P(X,Q,N,Y,U);var T=Q[U],aa=X&&X[U],R=T[B],V=X&&aa[B];Y.x=T[R-2];Y.y=T[R-1];Y.bx=G[s](T[R-4])||Y.x;Y.by=G[s](T[R-3])||Y.y;N.bx=X&&(G[s](aa[V-4])||N.x);N.by=X&&(G[s](aa[V-3])||N.y);N.x=X&&aa[V-2];N.y=X&&aa[V-1]}return X?[Q,X]:Q},null,v),q=L(function(V){var U=[];for(var R=0,W=V[B];R<W;R++){var N={},T=V[R].match(/^([^:]*):?([\d\.]*)/);N.color=j.getRGB(T[1]);if(N.color.error){return null}N.color=N.color.hex;T[2]&&(N.offset=T[2]+"%");U.push(N)}for(var R=1,W=U[B]-1;R<W;R++){if(!U[R].offset){var O=G[s](U[R-1].offset||0),P=0;for(var Q=R+1;Q<W;Q++){if(U[Q].offset){P=U[Q].offset;break}}if(!P){P=100;Q=W}P=G[s](P);var S=(P-O)/(Q-R+1);for(;R<Q;R++){O+=S;U[R].offset=O+"%"}}}return U}),E=function(){var O,N,Q,P,i;if(j.is(arguments[0],"string")||j.is(arguments[0],"object")){if(j.is(arguments[0],"string")){O=k.getElementById(arguments[0])}else{O=arguments[0]}if(O.tagName){if(arguments[1]==null){return{container:O,width:O.style.pixelWidth||O.offsetWidth,height:O.style.pixelHeight||O.offsetHeight}}else{return{container:O,width:arguments[1],height:arguments[2]}}}}else{if(j.is(arguments[0],"number")&&arguments[B]>3){return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}}}},a=function(i,O){var N=this;for(var P in O){if(O.hasOwnProperty(P)&&!(P in i)){switch(typeof O[P]){case"function":(function(Q){i[P]=i===N?Q:function(){return Q[l](N,arguments)}})(O[P]);break;case"object":i[P]=i[P]||{};a.call(this,i[P],O[P]);break;default:i[P]=O[P];break}}}};g.mix(j,{pathDimensions:D,pathClone:v,pathToRelative:e,pathToAbsolute:y,path2curve:H,parseDots:q,getContainer:E,plugins:a});var c={},I={};g.mix(c,{separator:M});j.svg?A.init(b,j,c,I):f.init(b,j,c,I);var o=I.Element;if({"Apple Computer, Inc.":1,"Google Inc.":1}[navigator.vendor]){b.safari=function(){var i=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){i.remove()})}}else{b.safari=function(){}}var m=(function(){if(k.addEventListener){return function(Q,O,N,i){var P=function(R){return N.call(i,R)};Q.addEventListener(O,P,false);return function(){Q.removeEventListener(O,P,false);return true}}}else{if(k.attachEvent){return function(R,P,O,N){var Q=function(S){return O.call(N,S||G.event)};R.attachEvent("on"+P,Q);var i=function(){R.detachEvent("on"+P,Q);return true};if(P=="mouseover"){R.attachEvent("onmouseenter",Q);return function(){R.detachEvent("onmouseenter",Q);return i()}}else{if(P=="mouseout"){R.attachEvent("onmouseleave",Q);return function(){R.detachEvent("onmouseleave",Q);return i()}}}return i}}}})();for(var J=x[B];J--;){(function(i){o[p][i]=function(N){if(j.is(N,"function")){this.events=this.events||{};this.events[i]=this.events[i]||{};this.events[i][N]=this.events[i][N]||[];this.events[i][N].push(m(this.shape||this.node,i,N,this))}return this};o[p]["un"+i]=function(N){this.events&&this.events[i]&&this.events[i][N]&&this.events[i][N][B]&&this.events[i][N].shift()()&&!this.events[i][N][B]&&delete this.events[i][N]}})(x[J])}var d=["on","detach","fire","fireHandler","delegate","undelegate"];g.each(d,function(i){o.prototype[i]=function(){var N=this,O=g.makeArray(arguments);O.unshift(N[0]);g.Event[i].apply(g.Event,O);return N}});b.circle=function(i,O,N){return I.theCircle(this,i||0,O||0,N||0)};b.rect=function(i,Q,N,O,P){return I.theRect(this,i||0,Q||0,N||0,O||0,P||0)};b.ellipse=function(i,P,O,N){return I.theEllipse(this,i||0,P||0,O||0,N||0)};b.path=function(i){i&&!j.is(i,"string")&&!j.is(i[0],"array")&&(i+="");return I.thePath(j.format[l](j,arguments),this)};b.image=function(P,i,Q,N,O){return I.theImage(this,P||"about:blank",i||0,Q||0,N||0,O||0)};b.text=function(i,O,N){return I.theText(this,i||0,O||0,N||"")};b.group=function(){return I.theGroup(this)};b.set=function(i){arguments[B]>1&&(i=Array[p].splice.call(arguments,0,arguments[B]));return new n(i)};b.setSize=I.setSize;o[p].stop=function(){clearTimeout(this.animation_in_progress);return this};o[p].scale=function(aa,Z,P,O){if(aa==null&&Z==null){return{x:this._.sx,y:this._.sy,toString:function(){return this.x+" "+this.y}}}Z=Z||aa;!+Z&&(Z=aa);var ae,ac,ad,ab,aq=this.attrs;if(aa!=0){var X=this.getBBox(),U=X.x+X.width/2,R=X.y+X.height/2,ap=aa/this._.sx,ao=Z/this._.sy;P=(+P||P==0)?P:U;O=(+O||O==0)?O:R;var W=~~(aa/Math.abs(aa)),T=~~(Z/Math.abs(Z)),ah=this.node.style,at=P+(U-P)*W*ap,ar=O+(R-O)*T*ao;switch(this.type){case"rect":case"image":var V=aq.width*W*ap,ag=aq.height*T*ao,Y=aq.r*Math.min(ap,ao),S=at-V/2,Q=ar-ag/2;this.attr({width:V,height:ag,x:S,y:Q,r:Y});break;case"circle":case"ellipse":this.attr({rx:aq.rx*ap,ry:aq.ry*ao,r:aq.r*Math.min(ap,ao),cx:at,cy:ar});break;case"path":var aj=j.pathToRelative(aq.path),ak=true;for(var am=0,af=aj[B];am<af;am++){var ai=aj[am];if(ai[0].toUpperCase()=="M"&&ak){continue}else{ak=false}if(j.svg&&ai[0].toUpperCase()=="A"){ai[aj[am][B]-2]*=ap;ai[aj[am][B]-1]*=ao;ai[1]*=ap;ai[2]*=ao;ai[5]=+(W+T?!!+ai[5]:!+ai[5])}else{for(var al=1,an=ai[B];al<an;al++){ai[al]*=(al%2)?ap:ao}}}var N=j.pathDimensions(aj),ae=at-N.x-N.width/2,ac=ar-N.y-N.height/2;aj[0][1]+=ae;aj[0][2]+=ac;this.attr({path:aj});break}if(this.type in {text:1,image:1}&&(W!=1||T!=1)){if(this.transformations){this.transformations[2]="scale(".concat(W,",",T,")");this.node.setAttribute("transform",this.transformations.join(" "));ae=(W==-1)?-aq.x-(V||0):aq.x;ac=(T==-1)?-aq.y-(ag||0):aq.y;this.attr({x:ae,y:ac});aq.fx=W-1;aq.fy=T-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11=".concat(W,", M12=0, M21=0, M22=",T,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");ah.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}}else{if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations.join(" "));aq.fx=0;aq.fy=0}else{this.node.filterMatrix="";ah.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}}aq.scale=[aa,Z,P,O].join(" ");this._.sx=aa;this._.sy=Z}return this};j.easing_formulas={linear:function(i){return i},"<":function(i){return Math.pow(i,3)},">":function(i){return Math.pow(i-1,3)+1},"<>":function(i){i=i*2;if(i<1){return Math.pow(i,3)/2}i-=2;return(Math.pow(i,3)+2)/2},backIn:function(N){var i=1.70158;return N*N*((i+1)*N-i)},backOut:function(N){N=N-1;var i=1.70158;return N*N*((i+1)*N+i)+1},elastic:function(O){if(O==0||O==1){return O}var N=0.3,i=N/4;return Math.pow(2,-10*O)*Math.sin((O-i)*(2*Math.PI)/N)+1},bounce:function(P){var N=7.5625,O=2.75,i;if(P<(1/O)){i=N*P*P}else{if(P<(2/O)){P-=(1.5/O);i=N*P*P+0.75}else{if(P<(2.5/O)){P-=(2.25/O);i=N*P*P+0.9375}else{P-=(2.625/O);i=N*P*P+0.984375}}}return i}};o[p].animate=function(ai,Z,Y,Q){clearTimeout(this.animation_in_progress);if(j.is(Y,"function")||!Y){Q=Y||null}var ac={},O={},W={},V={x:0,y:0};for(var aa in ai){if(ai.hasOwnProperty(aa)){if(aa in w){ac[aa]=this.attr(aa);(ac[aa]==null)&&(ac[aa]=j.availableAttrs[aa]);O[aa]=ai[aa];switch(w[aa]){case"number":W[aa]=(O[aa]-ac[aa])/Z;break;case"colour":ac[aa]=j.getRGB(ac[aa]);var ab=j.getRGB(O[aa]);W[aa]={r:(ab.r-ac[aa].r)/Z,g:(ab.g-ac[aa].g)/Z,b:(ab.b-ac[aa].b)/Z};break;case"path":var R=j.path2curve(ac[aa],O[aa]);ac[aa]=R[0];O[aa]=R[1];W[aa]=[];for(var ae=0,U=ac[aa][B];ae<U;ae++){W[aa][ae]=[0];for(var ad=1,ag=ac[aa][ae][B];ad<ag;ad++){W[aa][ae][ad]=(O[aa][ae][ad]-ac[aa][ae][ad])/Z}}break;case"csv":var N=(ai[aa]+"").split(c.separator),T=(ac[aa]+"").split(c.separator);switch(aa){case"translation":ac[aa]=[0,0];W[aa]=[N[0]/Z,N[1]/Z];break;case"rotation":ac[aa]=(T[1]==N[1]&&T[2]==N[2])?T:[0,N[1],N[2]];W[aa]=[(N[0]-ac[aa][0])/Z,0,0];break;case"scale":ai[aa]=N;ac[aa]=(ac[aa]+"").split(c.separator);W[aa]=[(N[0]-ac[aa][0])/Z,(N[1]-ac[aa][1])/Z,0,0];break;case"clip-rect":ac[aa]=(ac[aa]+"").split(c.separator);W[aa]=[];var ae=4;while(ae--){W[aa][ae]=(N[ae]-ac[aa][ae])/Z}break}O[aa]=N}}}}var P=+new Date,X=0,ah=function(i){return i>255?255:i},S=this;(function af(){var ak=new Date-P,at={},aj;if(ak<Z){var aq=j.easing_formulas[Y]?j.easing_formulas[Y](ak/Z):ak/Z;for(var ao in ac){if(ac.hasOwnProperty(ao)){switch(w[ao]){case"number":aj=+ac[ao]+aq*Z*W[ao];break;case"colour":aj="rgb("+[ah(~~(ac[ao].r+aq*Z*W[ao].r+0.5)),ah(~~(ac[ao].g+aq*Z*W[ao].g+0.5)),ah(~~(ac[ao].b+aq*Z*W[ao].b+0.5))].join(",")+")";break;case"path":aj=[];for(var am=0,au=ac[ao][B];am<au;am++){aj[am]=[ac[ao][am][0]];for(var al=1,an=ac[ao][am][B];al<an;al++){aj[am][al]=+ac[ao][am][al]+aq*Z*W[ao][am][al]}aj[am]=aj[am].join(" ")}aj=aj.join(" ");break;case"csv":switch(ao){case"translation":var ar=W[ao][0]*(ak-X),ap=W[ao][1]*(ak-X);V.x+=ar;V.y+=ap;aj=[ar,ap].join(" ");break;case"rotation":aj=+ac[ao][0]+aq*Z*W[ao][0];ac[ao][1]&&(aj+=","+ac[ao][1]+","+ac[ao][2]);break;case"scale":aj=[+ac[ao][0]+aq*Z*W[ao][0],+ac[ao][1]+aq*Z*W[ao][1],(2 in ai[ao]?ai[ao][2]:""),(3 in ai[ao]?ai[ao][3]:"")].join(" ");break;case"clip-rect":aj=[];var am=4;while(am--){aj[am]=+ac[ao][am]+aq*Z*W[ao][am]}break}break}at[ao]=aj}}S.attr(at);S.animation_in_progress=setTimeout(af);j.svg&&b.safari()}else{(V.x||V.y)&&S.translate(-V.x,-V.y);S.attr(ai);clearTimeout(S.animation_in_progress);j.svg&&b.safari();(j.is(Q,"function"))&&Q.call(S)}X=ak})();return this};o[p].translate=function(i,O){if(i==null){return{x:this._.tx,y:this._.ty}}this._.tx+=+i;this._.ty+=+O;switch(this.type){case"circle":case"ellipse":this.attr({cx:+i+this.attrs.cx,cy:+O+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+i+this.attrs.x,y:+O+this.attrs.y});break;case"path":var N=j.pathToRelative(this.attrs.path);N[0][1]+=+i;N[0][2]+=+O;this.attr({path:N});break}return this};o[p].toString=function(){return"Rapha\u00ebl\u2019s object"};var n=function(N){this.items=[];this[B]=0;if(N){for(var O=0,P=N[B];O<P;O++){if(N[O]&&(N[O].constructor==o||N[O].constructor==n)){this[this.items[B]]=this.items[this.items[B]]=N[O];this[B]++}}}};n[p].push=function(){var Q,N;for(var O=0,P=arguments[B];O<P;O++){Q=arguments[O];if(Q&&(Q.constructor==o||Q.constructor==n)){N=this.items[B];this[N]=this.items[N]=Q;this[B]++}}return this};n[p].pop=function(){delete this[this[B]--];return this.items.pop()};for(var K in o[p]){if(o[p].hasOwnProperty(K)){n[p][K]=(function(i){return function(){for(var N=0,O=this.items[B];N<O;N++){this.items[N][i][l](this.items[N],arguments)}return this}})(K)}}n[p].attr=function(O,S){if(O&&j.is(O,"array")&&j.is(O[0],"object")){for(var N=0,R=O[B];N<R;N++){this.items[N].attr(O[N])}}else{for(var P=0,Q=this.items[B];P<Q;P++){this.items[P].attr[l](this.items[P],arguments)}}return this};n[p].animate=function(R,O,U,T){if(j.is(U,"function")||!U){T=U||null}var N=this.items[B],P=N,S=this;if(T){var Q=function(){!--N&&T.call(S)};while(P--){this.items[P].animate(R,O,U||Q,Q)}}else{while(P--){this.items[P].animate(R,O,U)}}return this};n[p].getBBox=function(){var N=[],S=[],O=[],Q=[];for(var P=this.items[B];P--;){var R=this.items[P].getBBox();N.push(R.x);S.push(R.y);O.push(R.x+R.width);Q.push(R.y+R.height)}N=Math.min[l](Math,N);S=Math.min[l](Math,S);return{x:N,y:S,width:Math.max[l](Math,O)-N,height:Math.max[l](Math,Q)-S}};j.registerFont=function(N){if(!N.face){return N}this.fonts=this.fonts||{};var P={w:N.w,face:{},glyphs:{}},O=N.face["font-family"];for(var S in N.face){if(N.face.hasOwnProperty(S)){P.face[S]=N.face[S]}}if(this.fonts[O]){this.fonts[O].push(P)}else{this.fonts[O]=[P]}if(!N.svg){P.face["units-per-em"]=G[r](N.face["units-per-em"],10);for(var Q in N.glyphs){if(N.glyphs.hasOwnProperty(Q)){var R=N.glyphs[Q];P.glyphs[Q]={w:R.w,k:{},d:R.d&&"M"+R.d.replace(/[mlcxtrv]/g,function(T){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[T]||"M"})+"z"};if(R.k){for(var i in R.k){if(R.hasOwnProperty(i)){P.glyphs[Q].k[i]=R.k[i]}}}}}}return N};b.getFont=function(U,V,O,Q){Q=Q||"normal";O=O||"normal";V=+V||{normal:400,bold:700,lighter:300,bolder:800}[V]||400;var R=j.fonts[U];if(!R){var P=new RegExp("(^|\\s)"+U.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var N in j.fonts){if(j.fonts.hasOwnProperty(N)){if(P.test(N)){R=j.fonts[N];break}}}}var S;if(R){for(var T=0,W=R[B];T<W;T++){S=R[T];if(S.face["font-weight"]==V&&(S.face["font-style"]==O||!S.face["font-style"])&&S.face["font-stretch"]==Q){break}}}return S};b.print=function(W,V,T,O,aa){var R=this.set(),U=(T+"").split(""),N=0,Z="",Q;j.is(O,"string")&&(O=this.getFont(O));if(O){Q=(aa||16)/O.face["units-per-em"];for(var S=0,X=U[B];S<X;S++){var P=S&&O.glyphs[U[S-1]]||{},Y=O.glyphs[U[S]];N+=S?(P.w||O.w)+(P.k&&P.k[U[S]]||0):0;Y&&Y.d&&R.push(this.path(Y.d).attr({fill:"#000",stroke:"none",translation:[N,0]}))}R.scale(Q,Q,0,V).translate(W,(aa||16)/2)}return R};j.format=function(N){var i=j.is(arguments[1],"array")?[0].concat(arguments[1]):arguments;N&&j.is(N,"string")&&i[B]-1&&(N=N.replace(/\{(\d+)\}/g,function(P,O){return i[++O]==null?"":i[O]}));return N||""};j.el=o[p];return j},{requires:["./svg","./vml"]});KISSY.add("gallery/kcharts/1.0/raphael/svg",function(c){var h=document,g=window,e="prototype",b="apply",d="length",a="parseFloat",f="parseInt";return{init:function(u,l,m,z){u.svgns="http://www.w3.org/2000/svg";u.xlink="http://www.w3.org/1999/xlink";var C=function(E){return +E+(Math.floor(E)==E)*0.5};var n=function(I){for(var F=0,G=I[d];F<G;F++){if(I[F][0].toLowerCase()!="a"){for(var E=1,H=I[F][d];E<H;E++){I[F][E]=C(I[F][E])}}else{I[F][6]=C(I[F][6]);I[F][7]=C(I[F][7])}}return I};var k=function(G,E){if(E){for(var F in E){if(E.hasOwnProperty(F)){var H;if(F==="d"){H=c.isArray(E[F])?[].concat.apply([],E[F]).join(" "):E[F]}else{H=E[F]}G.setAttribute(F,H)}}return G}else{return h.createElementNS(u.svgns,G)}};l.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var q=function(E,H){var F=k("path");H.canvas&&H.canvas.appendChild(F);var G=new v(F,H);G.type="path";x(G,{fill:"none",stroke:"#000",path:E});return G};var i=function(G,Q,E){var N="linear",K=0.5,I=0.5,S=G.style;Q=(Q+"").replace(/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(U,T,V){N="radial";if(T&&V){K=g[a](T);I=g[a](V);if(Math.pow(K-0.5,2)+Math.pow(I-0.5,2)>0.25){I=Math.sqrt(0.25-Math.pow(K-0.5,2))+0.5}}return""});Q=Q.split(/\s*\-\s*/);if(N=="linear"){var J=Q.shift();J=-g[a](J);if(isNaN(J)){return null}var H=[0,0,Math.cos(J*Math.PI/180),Math.sin(J*Math.PI/180)],P=1/(Math.max(Math.abs(H[2]),Math.abs(H[3]))||1);H[2]*=P;H[3]*=P;if(H[2]<0){H[0]=-H[2];H[2]=0}if(H[3]<0){H[1]=-H[3];H[3]=0}}var M=l.parseDots(Q);if(!M){return null}var F=k(N+"Gradient");F.id="r"+(l.idGenerator++).toString(36);N=="radial"?k(F,{fx:K,fy:I}):k(F,{x1:H[0],y1:H[1],x2:H[2],y2:H[3]});E.defs.appendChild(F);for(var L=0,R=M[d];L<R;L++){var O=k("stop");k(O,{offset:M[L].offset?M[L].offset:!L?"0%":"100%","stop-color":M[L].color||"#fff"});F.appendChild(O)}k(G,{fill:"url(#"+F.id+")",opacity:1,"fill-opacity":1});S.fill="";S.opacity=1;S.fillOpacity=1;return 1};var j=function(F){var E=F.getBBox();k(F.pattern,{patternTransform:l.format("translate({0},{1})",E.x,E.y)})};var x=function(P,Y){var S={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},U=P.node,Q=P.attrs,M=P.attr("rotation"),J=function(af,ae){ae=S[(ae+"").toLowerCase()];if(ae){var ac=af.attrs["stroke-width"]||"1",aa={round:ac,square:ac,butt:0}[af.attrs["stroke-linecap"]||Y["stroke-linecap"]]||0,ad=[];var ab=ae[d];while(ab--){ad[ab]=ae[ab]*ac+((ab%2)?1:-1)*aa}k(U,{"stroke-dasharray":ad.join(",")})}};g[a](M)&&P.rotate(0,true);for(var T in Y){if(Y.hasOwnProperty(T)){if(!(T in l.availableAttrs)){continue}var R=Y[T];Q[T]=R;switch(T){case"href":case"title":case"target":var W=U.parentNode;if(W.tagName.toLowerCase()!="a"){var H=k("a");W.insertBefore(H,U);H.appendChild(U);W=H}W.setAttributeNS(P.paper.xlink,T,R);break;case"clip-rect":var F=(R+"").split(m.separator);if(F[d]==4){P.clip&&P.clip.parentNode.parentNode.removeChild(P.clip.parentNode);var G=k("clipPath"),V=k("rect");G.id="r"+(l.idGenerator++).toString(36);k(V,{x:F[0],y:F[1],width:F[2],height:F[3]});G.appendChild(V);P.paper.defs.appendChild(G);k(U,{"clip-path":"url(#"+G.id+")"});P.clip=V}if(!R){var X=h.getElementById(U.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,""));X&&X.parentNode.removeChild(X);k(U,{"clip-path":""});delete P.clip}break;case"path":if(R&&P.type=="path"){Q.path=n(l.pathToAbsolute(R));k(U,{d:Q.path})}break;case"width":U.setAttribute(T,R);if(Q.fx){T="x";R=Q.x}else{break}case"x":if(Q.fx){R=-Q.x-(Q.width||0)}case"rx":if(T=="rx"&&P.type=="rect"){break}case"cx":U.setAttribute(T,R);P.pattern&&j(P);break;case"height":U.setAttribute(T,R);if(Q.fy){T="y";R=Q.y}else{break}case"y":if(Q.fy){R=-Q.y-(Q.height||0)}case"ry":if(T=="ry"&&P.type=="rect"){break}case"cy":U.setAttribute(T,R);P.pattern&&j(P);break;case"r":if(P.type=="rect"){k(U,{rx:R,ry:R})}else{U.setAttribute(T,R)}break;case"src":if(P.type=="image"){U.setAttributeNS(P.paper.xlink,"href",R)}break;case"stroke-width":U.style.strokeWidth=R;U.setAttribute(T,R);if(Q["stroke-dasharray"]){J(P,Q["stroke-dasharray"])}break;case"stroke-dasharray":J(P,R);break;case"rotation":M=R;P.rotate(R,true);break;case"translation":var K=(R+"").split(m.separator);P.translate((+K[0]+1||2)-1,(+K[1]+1||2)-1);break;case"scale":var K=(R+"").split(m.separator);P.scale(+K[0]||1,+K[1]||+K[0]||1,+K[2]||null,+K[3]||null);break;case"fill":var I=(R+"").match(/^url\(['"]?([^\)]+)['"]?\)$/i);if(I){var G=k("pattern"),O=k("image");G.id="r"+(l.idGenerator++).toString(36);k(G,{x:0,y:0,patternUnits:"userSpaceOnUse"});k(O,{x:0,y:0});O.setAttributeNS(P.paper.xlink,"href",I[1]);G.appendChild(O);var Z=h.createElement("img");Z.style.cssText="position:absolute;left:-9999em;top-9999em";Z.onload=function(){k(G,{width:this.offsetWidth,height:this.offsetHeight});k(O,{width:this.offsetWidth,height:this.offsetHeight});h.body.removeChild(this);u.safari()};h.body.appendChild(Z);Z.src=I[1];P.paper.defs.appendChild(G);U.style.fill="url(#"+G.id+")";k(U,{fill:"url(#"+G.id+")"});P.pattern=G;P.pattern&&j(P);break}if(!l.getRGB(R).error){delete Y.gradient;delete Q.gradient;if(!l.is(Q.opacity,"undefined")&&l.is(Y.opacity,"undefined")){U.style.opacity=Q.opacity;k(U,{opacity:Q.opacity})}if(!l.is(Q["fill-opacity"],"undefined")&&l.is(Y["fill-opacity"],"undefined")){U.style.fillOpacity=Q["fill-opacity"];k(U,{"fill-opacity":Q["fill-opacity"]})}}else{if((P.type in {circle:1,ellipse:1}||(R+"").charAt(0)!="r")&&i(U,R,P.paper)){Q.gradient=R;Q.fill="none";break}}case"stroke":U.style[T]=l.getRGB(R).hex;U.setAttribute(T,l.getRGB(R).hex);break;case"gradient":(P.type in {circle:1,ellipse:1}||(R+"").charAt(0)!="r")&&i(U,R,P.paper);break;case"opacity":case"fill-opacity":if(Q.gradient){var E=h.getElementById(U.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(E){var L=E.getElementsByTagName("stop");L[L[d]-1].setAttribute("stop-opacity",R)}break}default:T=="font-size"&&(R=g[f](R,10)+"px");var N=T.replace(/(\-.)/g,function(aa){return aa.substring(1).toUpperCase()});U.style[N]=R;U.setAttribute(T,R);break}}}r(P,Y);g[f](M,10)&&P.rotate(M,true)};var D=1.2;var r=function(E,H){if(E.type!="text"||!("text" in H||"font" in H||"font-size" in H||"x" in H||"y" in H)){return}var M=E.attrs,F=E.node,O=F.firstChild?g[f](h.defaultView.getComputedStyle(F.firstChild,"").getPropertyValue("font-size"),10):10;if("text" in H){while(F.firstChild){F.removeChild(F.firstChild)}var G=(H.text+"").split("\n");for(var I=0,N=G[d];I<N;I++){var K=k("tspan");I&&k(K,{dy:O*D,x:M.x});K.appendChild(h.createTextNode(G[I]));F.appendChild(K)}}else{var G=F.getElementsByTagName("tspan");for(var I=0,N=G[d];I<N;I++){I&&k(G[I],{dy:O*D,x:M.x})}}k(F,{y:M.y});var J=E.getBBox(),L=M.y-(J.y+J.height/2);L&&k(F,{y:M.y+L})};var v=function(F,E){var H=0,G=0;this[0]=F;this.node=F;F.raphael=this;this.paper=E;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1}};v[e].rotate=function(F,E,H){if(F==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" ")}return this._.rt.deg}var G=this.getBBox();F=(F+"").split(m.separator);if(F[d]-1){E=g[a](F[1]);H=g[a](F[2])}F=g[a](F[0]);if(E!=null){this._.rt.deg=F}else{this._.rt.deg+=F}(H==null)&&(E=null);this._.rt.cx=E;this._.rt.cy=H;E=E==null?G.x+G.width/2:E;H=H==null?G.y+G.height/2:H;if(this._.rt.deg){this.transformations[0]=l.format("rotate({0} {1} {2})",this._.rt.deg,E,H);this.clip&&k(this.clip,{transform:l.format("rotate({0} {1} {2})",-this._.rt.deg,E,H)})}else{this.transformations[0]="";this.clip&&k(this.clip,{transform:""})}k(this.node,{transform:this.transformations.join(" ")});return this};v[e].hide=function(){this.node.style.display="none";return this};v[e].show=function(){this.node.style.display="block";return this};v[e].remove=function(){this.node.parentNode.removeChild(this.node)};v[e].getBBox=function(){if(this.type=="path"){return l.pathDimensions(this.attrs.path)}if(this.node.style.display=="none"){this.show();var F=true}var J={};try{J=this.node.getBBox()}catch(H){}finally{J=J||{}}if(this.type=="text"){J={x:J.x,y:Infinity,width:J.width,height:0};for(var E=0,G=this.node.getNumberOfChars();E<G;E++){var I=this.node.getExtentOfChar(E);(I.y<J.y)&&(J.y=I.y);(I.y+I.height-J.y>J.height)&&(J.height=I.y+I.height-J.y)}}F&&this.hide();return J};v[e].attr=function(){if(arguments[d]==1&&l.is(arguments[0],"string")){if(arguments[0]=="translation"){return this.translate()}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}return this.attrs[arguments[0]]}if(arguments[d]==1&&l.is(arguments[0],"array")){var E={};for(var F in arguments[0]){if(arguments[0].hasOwnProperty(F)){E[arguments[0][F]]=this.attrs[arguments[0][F]]}}return E}if(arguments[d]==2){var G={};G[arguments[0]]=arguments[1];x(this,G)}else{if(arguments[d]==1&&l.is(arguments[0],"object")){x(this,arguments[0])}}return this};v[e].toFront=function(){this.node.parentNode.appendChild(this.node);return this};v[e].toBack=function(){if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild)}return this};v[e].insertAfter=function(E){if(E.node.nextSibling){E.node.parentNode.insertBefore(this.node,E.node.nextSibling)}else{E.node.parentNode.appendChild(this.node)}return this};v[e].insertBefore=function(E){var F=E.node;F.parentNode.insertBefore(this.node,F);return this};var p=function(F,E,J,I){E=C(E);J=C(J);var H=k("circle");F.canvas&&F.canvas.appendChild(H);var G=new v(H,F);G.attrs={cx:E,cy:J,r:I,fill:"none",stroke:"#000"};G.type="circle";k(H,G.attrs);return G};var A=function(G,E,L,F,J,K){E=C(E);L=C(L);var I=k("rect");G.canvas&&G.canvas.appendChild(I);var H=new v(I,G);H.attrs={x:E,y:L,width:F,height:J,r:K||0,rx:K||0,ry:K||0,fill:"none",stroke:"#000"};H.type="rect";k(I,H.attrs);return H};var s=function(F,E,K,J,I){E=C(E);K=C(K);var H=k("ellipse");F.canvas&&F.canvas.appendChild(H);var G=new v(H,F);G.attrs={cx:E,cy:K,rx:J,ry:I,fill:"none",stroke:"#000"};G.type="ellipse";k(H,G.attrs);return G};var B=function(G,K,E,L,F,J){var I=k("image");k(I,{x:E,y:L,width:F,height:J,preserveAspectRatio:"none"});I.setAttributeNS(G.xlink,"href",K);G.canvas&&G.canvas.appendChild(I);var H=new v(I,G);H.attrs={x:E,y:L,width:F,height:J,src:K};H.type="image";return H};var o=function(F,E,J,I){var H=k("text");k(H,{x:E,y:J,"text-anchor":"middle"});F.canvas&&F.canvas.appendChild(H);var G=new v(H,F);G.attrs={x:E,y:J,"text-anchor":"middle",text:I,font:l.availableAttrs.font,stroke:"none",fill:"#000"};G.type="text";x(G,G.attrs);return G};var w=function(E){var G=k("g"),F;E.canvas&&E.canvas.appendChild(G);F=new v(G,E);F.type="group";F.canvas=G;F.clear=function(){};F.container=E.container;c.mix(F,u,false,["remove","safari","circle","rect","ellipse","path","image","text"]);return F};var y=function(F,E){this.width=F||this.width;this.height=E||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this};var t=function(){var I=l.getContainer[b](null,arguments),G=I&&I.container,K=I.x,J=I.y,H=I.width,L=I.height;if(!G){throw new Error("SVG container not found.")}u.canvas=k("svg");var E=u.canvas,M=E.style;E.setAttribute("width",H||512);u.width=H||512;E.setAttribute("height",L||342);u.height=L||342;if(G==1){h.body.appendChild(E);M.position="absolute";M.left=K+"px";M.top=J+"px"}else{if(G.firstChild){G.insertBefore(E,G.firstChild)}else{G.appendChild(E)}}G={canvas:E,clear:function(){while(this.canvas.firstChild){this.canvas.removeChild(this.canvas.firstChild)}this.desc=k("desc");this.defs=k("defs");this.desc.appendChild(h.createTextNode("Created with Rapha\u00ebl"));this.canvas.appendChild(this.desc);this.canvas.appendChild(this.defs)},container:E.parentNode};for(var F in u){if(u.hasOwnProperty(F)){if(F!="create"){G[F]=u[F]}}}l.plugins.call(G,G,l.fn);G.clear();G.raphael=l;return G};u.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)};c.mix(z,{Element:v,create:t,setSize:y,thePath:q,theRect:A,theCircle:p,theEllipse:s,theText:o,theImage:B,theGroup:w})}}});KISSY.add("gallery/kcharts/1.0/raphael/vml",function(c){var g=document,f=window,e="prototype",b="apply",d="length",a="parseFloat";return{init:function(q,j,k,w){var i=function(F){var D=j.path2curve(F);for(var B=0,C=D[d];B<C;B++){D[B][0]=(D[B][0]+"").toLowerCase();D[B][0]=="z"&&(D[B][0]="x");for(var A=1,E=D[B][d];A<E;A++){D[B][A]=~~(D[B][A]+0.5)}}return(D+"")};j.toString=function(){return"Your browser doesn\u2019t support SVG. Assuming it is Internet Explorer and falling down to VML.\nYou are running Rapha\u00ebl "+this.version};var n=function(A,F){var D=z("group"),G=D.style;G.position="absolute";G.left=0;G.top=0;G.width=F.width+"px";G.height=F.height+"px";D.coordsize=F.coordsize;D.coordorigin=F.coordorigin;var C=z("shape"),B=C.style;B.width=F.width+"px";B.height=F.height+"px";C.path="";C.coordsize=this.coordsize;C.coordorigin=this.coordorigin;D.appendChild(C);var E=new r(C,D,F);E.isAbsolute=true;E.type="path";E.path=[];E.Path="";if(A){E.attrs.path=j.parsePathString(A);E.node.path=i(E.attrs.path)}t(E,{fill:"none",stroke:"#000"});E.setBox();F.canvas.appendChild(D);return E};var t=function(J,N){J.attrs=J.attrs||{};var L=J.node,O=J.attrs,G=L.style,D,S=J;for(var H in N){if(N.hasOwnProperty(H)){O[H]=N[H]}}N.href&&(L.href=N.href);N.title&&(L.title=N.title);N.target&&(L.target=N.target);if(N.path&&J.type=="path"){O.path=j.parsePathString(N.path);L.path=i(O.path)}if(N.rotation!=null){J.rotate(N.rotation,true)}if(N.translation){D=(N.translation+"").split(k.separator);J.translate(D[0],D[1])}if(N.scale){D=(N.scale+"").split(k.separator);J.scale(+D[0]||1,+D[1]||+D[0]||1,+D[2]||null,+D[3]||null)}if("clip-rect" in N){var A=(N["clip-rect"]+"").split(k.separator);if(A[d]==4){A[2]=+A[2]+(+A[0]);A[3]=+A[3]+(+A[1]);var I=L.clipRect||g.createElement("div"),R=I.style,F=L.parentNode;R.clip=j.format("rect({1}px {2}px {3}px {0}px)",A);if(!L.clipRect){R.position="absolute";R.top=0;R.left=0;R.width=J.paper.width+"px";R.height=J.paper.height+"px";F.parentNode.insertBefore(I,F);I.appendChild(F);L.clipRect=I}}if(!N["clip-rect"]){L.clipRect&&(L.clipRect.style.clip="")}}if(J.type=="image"&&N.src){L.src=N.src}if(J.type=="image"&&N.opacity){L.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+(N.opacity*100)+")";G.filter=(L.filterMatrix||"")+(L.filterOpacity||"")}N.font&&(G.font=N.font);N["font-family"]&&(G.fontFamily='"'+N["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');N["font-size"]&&(G.fontSize=N["font-size"]);N["font-weight"]&&(G.fontWeight=N["font-weight"]);N["font-style"]&&(G.fontStyle=N["font-style"]);if(N.opacity!=null||N["stroke-width"]!=null||N.fill!=null||N.stroke!=null||N["stroke-width"]!=null||N["stroke-opacity"]!=null||N["fill-opacity"]!=null||N["stroke-dasharray"]!=null||N["stroke-miterlimit"]!=null||N["stroke-linejoin"]!=null||N["stroke-linecap"]!=null){L=J.shape||L;var M=(L.getElementsByTagName("fill")&&L.getElementsByTagName("fill")[0]),P=false;!M&&(P=M=z("fill"));if("fill-opacity" in N||"opacity" in N){var B=((+O["fill-opacity"]+1||2)-1)*((+O.opacity+1||2)-1);B<0&&(B=0);B>1&&(B=1);M.opacity=B}N.fill&&(M.on=true);if(M.on==null||N.fill=="none"){M.on=false}if(M.on&&N.fill){var C=N.fill.match(/^url\(([^\)]+)\)$/i);if(C){M.src=C[1];M.type="tile"}else{M.color=j.getRGB(N.fill).hex;M.src="";M.type="solid";if(j.getRGB(N.fill).error&&(S.type in {circle:1,ellipse:1}||(N.fill+"").charAt(0)!="r")&&h(S,N.fill)){O.fill="none";O.gradient=N.fill}}}P&&L.appendChild(M);var E=(L.getElementsByTagName("stroke")&&L.getElementsByTagName("stroke")[0]),Q=false;!E&&(Q=E=z("stroke"));if((N.stroke&&N.stroke!="none")||N["stroke-width"]||N["stroke-opacity"]!=null||N["stroke-dasharray"]||N["stroke-miterlimit"]||N["stroke-linejoin"]||N["stroke-linecap"]){E.on=true}(N.stroke=="none"||E.on==null||N.stroke==0||N["stroke-width"]==0)&&(E.on=false);E.on&&N.stroke&&(E.color=j.getRGB(N.stroke).hex);var B=((+O["stroke-opacity"]+1||2)-1)*((+O.opacity+1||2)-1);B<0&&(B=0);B>1&&(B=1);E.opacity=B;N["stroke-linejoin"]&&(E.joinstyle=N["stroke-linejoin"]||"miter");E.miterlimit=N["stroke-miterlimit"]||8;N["stroke-linecap"]&&(E.endcap={butt:"flat",square:"square",round:"round"}[N["stroke-linecap"]]||"miter");N["stroke-width"]&&(E.weight=(f[a](N["stroke-width"])||1)*12/16);if(N["stroke-dasharray"]){var K={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};E.dashstyle=K[N["stroke-dasharray"]]||""}Q&&L.appendChild(E)}if(S.type=="text"){var G=S.paper.span.style;O.font&&(G.font=O.font);O["font-family"]&&(G.fontFamily=O["font-family"]);O["font-size"]&&(G.fontSize=O["font-size"]);O["font-weight"]&&(G.fontWeight=O["font-weight"]);O["font-style"]&&(G.fontStyle=O["font-style"]);S.node.string&&(S.paper.span.innerHTML=S.node.string.replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));S.W=O.w=S.paper.span.offsetWidth;S.H=O.h=S.paper.span.offsetHeight;S.X=O.x;S.Y=O.y+~~(S.H/2+0.5);switch(O["text-anchor"]){case"start":S.node.style["v-text-align"]="left";S.bbx=~~(S.W/2+0.5);break;case"end":S.node.style["v-text-align"]="right";S.bbx=-~~(S.W/2+0.5);break;default:S.node.style["v-text-align"]="center";break}}};var h=function(A,G){A.attrs=A.attrs||{};var H=A.attrs,J=A.node.getElementsByTagName("fill"),E="linear",F=".5 .5";A.attrs.gradient=G;G=(G+"").replace(/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,function(M,N,L){E="radial";if(N&&L){N=f[a](N);L=f[a](L);if(Math.pow(N-0.5,2)+Math.pow(L-0.5,2)>0.25){L=Math.sqrt(0.25-Math.pow(N-0.5,2))+0.5}F=N+" "+L}return""});G=G.split(/\s*\-\s*/);if(E=="linear"){var B=G.shift();B=-f[a](B);if(isNaN(B)){return null}}var D=j.parseDots(G);if(!D){return null}A=A.shape||A.node;J=J[0]||z("fill");if(D[d]){J.on=true;J.method="none";J.type=(E=="radial")?"gradientradial":"gradient";J.color=D[0].color;J.color2=D[D[d]-1].color;var K=[];for(var C=0,I=D[d];C<I;C++){D[C].offset&&K.push(D[C].offset+" "+D[C].color)}if(K[d]&&J.colors){J.colors.value=K.join(",")}else{J.colors.value="0% "+J.color}if(E=="radial"){J.focus="100%";J.focussize=F;J.focusposition=F}else{J.angle=(270-B)%360}}return 1};var r=function(E,G,A){var F=0,C=0,B=0,D=1;this[0]=E;this.node=E;E.raphael=this;this.X=0;this.Y=0;this.attrs={};this.Group=G;this.paper=A;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1}};r[e].rotate=function(B,A,C){if(B==null){if(this._.rt.cx){return[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" ")}return this._.rt.deg}B=(B+"").split(k.separator);if(B[d]-1){A=f[a](B[1]);C=f[a](B[2])}B=f[a](B[0]);if(A!=null){this._.rt.deg=B}else{this._.rt.deg+=B}C==null&&(A=null);this._.rt.cx=A;this._.rt.cy=C;this.setBox(this.attrs,A,C);this.Group.style.rotation=this._.rt.deg;return this};r[e].setBox=function(E,F,D){var B=this.Group.style,G=(this.shape&&this.shape.style)||this.node.style;E=E||{};for(var H in E){if(E.hasOwnProperty(H)){this.attrs[H]=E[H]}}F=F||this._.rt.cx;D=D||this._.rt.cy;var K=this.attrs,N,M,O,J;switch(this.type){case"circle":N=K.cx-K.r;M=K.cy-K.r;O=J=K.r*2;break;case"ellipse":N=K.cx-K.rx;M=K.cy-K.ry;O=K.rx*2;J=K.ry*2;break;case"rect":case"image":N=K.x;M=K.y;O=K.width||0;J=K.height||0;break;case"text":this.textpath.v=["m",~~(K.x+0.5),", ",~~(K.y-2+0.5),"l",~~(K.x+0.5)+1,", ",~~(K.y-2+0.5)].join("");N=K.x-~~(this.W/2+0.5);M=K.y-this.H/2;O=this.W;J=this.H;break;case"path":if(!this.attrs.path){N=0;M=0;O=this.paper.width;J=this.paper.height}else{var I=j.pathDimensions(this.attrs.path);N=I.x;M=I.y;O=I.width||this.paper.width;J=I.height||this.paper.height}break;default:N=0;M=0;O=this.paper.width;J=this.paper.height;break}F=F?F:N+O/2;D=D?D:M+J/2;var C=F-this.paper.width/2,L=D-this.paper.height/2;if(this.type=="path"||this.type=="text"){(B.left!=C+"px")&&(B.left=C+"px");(B.top!=L+"px")&&(B.top=L+"px");this.X=this.type=="text"?N:-C;this.Y=this.type=="text"?M:-L;this.W=O;this.H=J;(G.left!=-C+"px")&&(G.left=-C+"px");(G.top!=-L+"px")&&(G.top=-L+"px")}else{(B.left!=C+"px")&&(B.left=C+"px");(B.top!=L+"px")&&(B.top=L+"px");this.X=N;this.Y=M;this.W=O;this.H=J;(B.width!=this.paper.width+"px")&&(B.width=this.paper.width+"px");(B.height!=this.paper.height+"px")&&(B.height=this.paper.height+"px");(G.left!=N-C+"px")&&(G.left=N-C+"px");(G.top!=M-L+"px")&&(G.top=M-L+"px");(G.width!=O+"px")&&(G.width=O+"px");(G.height!=J+"px")&&(G.height=J+"px");var P=(+E.r||0)/(Math.min(O,J));if(this.type=="rect"&&this.arcsize!=P&&(P||this.arcsize)){var A=z(P?"roundrect":"rect");A.arcsize=P;this.Group.appendChild(A);this.node.parentNode.removeChild(this.node);this.node=A;this.arcsize=P;t(this,this.attrs);this.setBox(this.attrs)}}};r[e].hide=function(){this.Group.style.display="none";return this};r[e].show=function(){this.Group.style.display="block";return this};r[e].getBBox=function(){if(this.type=="path"){return j.pathDimensions(this.attrs.path)}return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};r[e].remove=function(){this[0].parentNode.removeChild(this[0]);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape)};r[e].attr=function(){if(arguments[d]==1&&j.is(arguments[0],"string")){if(arguments[0]=="translation"){return this.translate()}if(arguments[0]=="rotation"){return this.rotate()}if(arguments[0]=="scale"){return this.scale()}return this.attrs[arguments[0]]}if(this.attrs&&arguments[d]==1&&j.is(arguments[0],"array")){var A={};for(var B=0,C=arguments[0][d];B<C;B++){A[arguments[0][B]]=this.attrs[arguments[0][B]]}return A}var D;if(arguments[d]==2){D={};D[arguments[0]]=arguments[1]}if(arguments[d]==1&&j.is(arguments[0],"object")){D=arguments[0]}if(D){if(D.gradient&&(this.type in {circle:1,ellipse:1}||(D.gradient+"").charAt(0)!="r")){h(this,D.gradient)}if(D.text&&this.type=="text"){this.node.string=D.text}t(this,D);this.setBox(this.attrs)}return this};r[e].toFront=function(){this.Group.parentNode.appendChild(this.Group);return this};r[e].toBack=function(){if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild)}return this};r[e].insertAfter=function(A){if(A.Group.nextSibling){A.Group.parentNode.insertBefore(this.Group,A.Group.nextSibling)}else{A.Group.parentNode.appendChild(this.Group)}return this};r[e].insertBefore=function(A){A.Group.parentNode.insertBefore(this.Group,A.Group);return this};var m=function(B,A,H,F){var E=z("group"),G=z("oval"),C=G.style;E.style.cssText="position:absolute;left:0;top:0;width:"+B.width+"px;height:"+B.height+"px";E.coordsize=B.coordsize;E.coordorigin=B.coordorigin;E.appendChild(G);var D=new r(G,E,B);D.type="circle";t(D,{stroke:"#000",fill:"none"});D.attrs.cx=A;D.attrs.cy=H;D.attrs.r=F;D.setBox({x:A-F,y:H-F,width:F*2,height:F*2});B.canvas.appendChild(E);return D};var x=function(B,H,G,I,D,A){var E=z("group"),C=z(A?"roundrect":"rect"),J=(+A||0)/(Math.min(I,D));C.arcsize=J;E.style.cssText="position:absolute;left:0;top:0;width:"+B.width+"px;height:"+B.height+"px";E.coordsize=B.coordsize;E.coordorigin=B.coordorigin;E.appendChild(C);var F=new r(C,E,B);F.type="rect";t(F,{stroke:"#000"});F.arcsize=J;F.setBox({x:H,y:G,width:I,height:D,r:+A});B.canvas.appendChild(E);return F};var o=function(A,I,H,C,B){var E=z("group"),D=z("oval"),G=D.style;E.style.cssText="position:absolute;left:0;top:0;width:"+A.width+"px;height:"+A.height+"px";E.coordsize=A.coordsize;E.coordorigin=A.coordorigin;E.appendChild(D);var F=new r(D,E,A);F.type="ellipse";t(F,{stroke:"#000"});F.attrs.cx=I;F.attrs.cy=H;F.attrs.rx=C;F.attrs.ry=B;F.setBox({x:I-C,y:H-B,width:C*2,height:B*2});A.canvas.appendChild(E);return F};var y=function(B,A,I,H,J,D){var E=z("group"),C=z("image"),G=C.style;E.style.cssText="position:absolute;left:0;top:0;width:"+B.width+"px;height:"+B.height+"px";E.coordsize=B.coordsize;E.coordorigin=B.coordorigin;C.src=A;E.appendChild(C);var F=new r(C,E,B);F.type="image";F.attrs.src=A;F.attrs.x=I;F.attrs.y=H;F.attrs.w=J;F.attrs.h=D;F.setBox({x:I,y:H,width:J,height:D});B.canvas.appendChild(E);return F};var l=function(B,I,H,J){var E=z("group"),D=z("shape"),G=D.style,K=z("path"),A=K.style,C=z("textpath");E.style.cssText="position:absolute;left:0;top:0;width:"+B.width+"px;height:"+B.height+"px";E.coordsize=B.coordsize;E.coordorigin=B.coordorigin;K.v=j.format("m{0},{1}l{2},{1}",~~(I+0.5),~~(H+0.5),~~(I+0.5)+1);K.textpathok=true;G.width=B.width;G.height=B.height;C.string=String(J);C.on=true;D.appendChild(C);D.appendChild(K);E.appendChild(D);var F=new r(C,E,B);F.shape=D;F.textpath=K;F.type="text";F.attrs.text=J;F.attrs.x=I;F.attrs.y=H;F.attrs.w=1;F.attrs.h=1;t(F,{font:j.availableAttrs.font,stroke:"none",fill:"#000"});F.setBox();B.canvas.appendChild(E);return F};var s=function(A){var C=z("group"),D=C.style,B;A.canvas.appendChild(C);D.cssText="position:absolute;left:0;top:0;width:"+A.width+"px;height:"+A.height+"px";C.coordsize=A.coordsize;C.coordorigin=A.coordorigin;B=new r(C,C,A);B.type="group";B.clear=c.noop;B.canvas=C;c.mix(B,q,false,["remove","circle","rect","ellipse","path","image","text"]);c.mix(B,A,false,["container","raphael","width","height","coordsize","coordorigin"]);return B};var v=function(C,A){var B=this.canvas.style;this.width=f[a](C||this.width);this.height=f[a](A||this.height);B.width=this.width+"px";B.height=this.height+"px";B.clip="rect(0 "+this.width+"px "+this.height+"px 0)";this.coordsize=this.width+" "+this.height;return this};g.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!g.namespaces.rvml&&g.namespaces.add("rvml","urn:schemas-microsoft-com:vml");var z=function(A){return g.createElement("<rvml:"+A+' class="rvml">')}}catch(u){var z=function(A){return g.createElement("<"+A+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var p=function(){var E=j.getContainer[b](null,arguments),C=E.container,K=E.height,L,D=E.width,J=E.x,I=E.y;if(!C){throw new Error("VML container not found.")}var G={},B=g.createElement("div"),H=G.canvas=B,F=H.style;D=f[a](D)||512;K=f[a](K)||342;G.width=D;G.height=K;G.coordsize=D+" "+K;G.coordorigin="0 0";G.span=g.createElement("span");G.span.style.cssText="position:absolute;left:-9999px;top:-9999px;padding:0;margin:0;line-height:1;display:inline;";H.appendChild(G.span);F.cssText=j.format("width:{0}px;height:{1}px;position:absolute;clip:rect(0 {0}px {1}px 0)",D,K);if(C==1){g.body.appendChild(H);F.left=J+"px";F.top=I+"px";C={style:{width:D,height:K}}}else{C.style.width=D;C.style.height=K;if(C.firstChild){C.insertBefore(H,C.firstChild)}else{C.appendChild(H)}}for(var A in q){if(q.hasOwnProperty(A)){G[A]=q[A]}}j.plugins.call(G,G,j.fn);G.clear=function(){while(H.firstChild){H.removeChild(H.firstChild)}};G.container=B;G.raphael=j;return G};q.remove=function(){this.canvas.parentNode.removeChild(this.canvas)};c.mix(w,{Element:r,create:p,setSize:v,thePath:n,theRect:x,theCircle:m,theEllipse:o,theText:l,theImage:y,theGroup:s})}}});
